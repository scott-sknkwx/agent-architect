# Kringle Lead Lifecycle Architecture

> **Manifest Version:** 2.0.0
> **Last Updated:** January 2025
> **Pattern References:** See `context/patterns/` for Bundle Approval, Content Sourcing, and Executor Model patterns.

This document describes the complete lead lifecycle in Kringle, from initial website visitor identification through conversion or termination.

## Design Principles

| Principle | Description |
|-----------|-------------|
| **Single Human Touchpoint** | Human reviews lead + persona fit + all emails at once |
| **Autonomous In-Flight** | Lead responses are the primary flow alteration; authenticated users can also pause/cancel |
| **EEX = Template-Sourced** | EEX content comes from persona templates, personalized with lead data (name, etc.) |

---

## Simplified Mental Model

```
    PROCESSING                    IN FLIGHT                   COMPLETED
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ingest       â”‚              (fully autonomous)
â”‚    + Org Map    â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚ 2. Enrich       â”‚                     â”‚
â”‚    Clay+Crawl   â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Qualify      â”‚          â”‚                     â”‚
â”‚    ğŸ¤– Matcher   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  6. Reach Out       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚     (auto-send)     â”‚
â”‚ 4. Campaign     â”‚          â”‚         â”‚           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Setup        â”‚          â”‚         â–¼           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Converted â”‚
â”‚    ğŸ¤– Drafter   â”‚          â”‚  7. EEX             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚     (auto-approved) â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. APPROVAL     â”‚          â”‚         â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚Terminated â”‚
â”‚    ğŸ‘¤ Human     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â–¼           â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    Reviews ALL  â”‚          â”‚  8. Post-EEX        â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚     (auto-send)     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Archived  â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚
                             Only interrupts:
                             â€¢ Lead responses
                             â€¢ Bounces/complaints
                             â€¢ Timeouts
```

---

## Detailed Architecture

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         KRINGLE LEAD LIFECYCLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PROCESSING                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. INGEST                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚                                                                             â”‚
â”‚    [RB2B Webhook]                                                           â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    [Org Mapping] â—„â”€â”€ Match domain/API key to organization                  â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    [Dedupe & Upsert Lead]                                                   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚      ingested                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ENRICH                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚                                                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚         â–¼                 â–¼                 â”‚                              â”‚
â”‚      [Clay]          [Firecrawl]            â”‚                              â”‚
â”‚    (person data)    (company site)          â”‚                              â”‚
â”‚         â”‚                 â”‚                 â”‚                              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚                              â”‚
â”‚                  â–¼                          â”‚                              â”‚
â”‚           [Consolidate]                     â”‚                              â”‚
â”‚                  â”‚                          â”‚                              â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                   â”‚                              â”‚
â”‚         â–¼               â–¼                   â”‚                              â”‚
â”‚      enriched    enrichment_failed â”€â”€â–º terminated                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. QUALIFY                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                 â”‚
â”‚                                                                             â”‚
â”‚    ğŸ¤– [PERSONA-MATCHER AGENT]                                               â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º Scores lead against all active personas                       â”‚
â”‚         â”œâ”€â”€â–º Uses persona-scorer subagent for parallel evaluation          â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚    â–¼                   â–¼                                                   â”‚
â”‚  matched          no_match â”€â”€â–º archived                                    â”‚
â”‚    â”‚                                                                        â”‚
â”‚    â–¼                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. CAMPAIGN SETUP                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚
â”‚                                                                             â”‚
â”‚    [Create Campaign Structure]                                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º Load persona template chain                                    â”‚
â”‚         â”œâ”€â”€â–º Attach EEX sequence (pre-built with persona)                  â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    ğŸ¤– [EMAIL-DRAFTER AGENT] â—„â”€â”€ Drafts wrapper emails ONLY                 â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º Initial reach out email                                       â”‚
â”‚         â”œâ”€â”€â–º Reach out follow-up email                                     â”‚
â”‚         â”œâ”€â”€â–º Post-EEX initial email                                        â”‚
â”‚         â””â”€â”€â–º Post-EEX follow-up email                                      â”‚
â”‚                                                                             â”‚
â”‚    âš™ï¸  [PERSONALIZE EEX TEMPLATES] â—„â”€â”€ Non-agentic function               â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º Pulls EEX templates from buyer persona's campaign             â”‚
â”‚         â”œâ”€â”€â–º Substitutes lead data (first_name, company, etc.)             â”‚
â”‚         â””â”€â”€â–º Produces personalized EEX emails (not agent-drafted)          â”‚
â”‚                                                                             â”‚
â”‚         ğŸ“ Template hierarchy: Org â†’ Buyer Persona â†’ Campaign â†’ EEX        â”‚
â”‚                                                                             â”‚
â”‚         â–¼                                                                   â”‚
â”‚    campaign_ready_for_review                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. APPROVAL REVIEW  â—„â”€â”€ SINGLE HUMAN TOUCHPOINT                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â”‚
â”‚                                                                             â”‚
â”‚    ğŸ‘¤ [HUMAN IN THE LOOP]                                                   â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”‚  UI presents EVERYTHING for review:                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚         â”‚  â”‚  LEAD REVIEW DASHBOARD                                  â”‚     â”‚
â”‚         â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚  ğŸ“‹ LEAD INFO                                           â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ Name, Title, Company                              â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ LinkedIn, Email                                   â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ Enrichment data (Clay + Firecrawl)               â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ Page they visited                                 â”‚     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚  ğŸ¯ PERSONA MATCH                                       â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ Matched persona: [Senior DevOps Leader]          â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ Confidence: 87%                                   â”‚     â”‚
â”‚         â”‚  â”‚     â€¢ Agent reasoning: "..."                            â”‚     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚  ğŸ“§ PROPOSED CAMPAIGN                                   â”‚     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚     â”Œâ”€ REACH OUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚         â”‚  â”‚     â”‚  [1] Initial outreach    [Preview]       â”‚       â”‚     â”‚
â”‚         â”‚  â”‚     â”‚  [2] Follow-up           [Preview]       â”‚       â”‚     â”‚
â”‚         â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚     â”Œâ”€ EEX (5 steps) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚         â”‚  â”‚     â”‚  Inherited from persona template          â”‚       â”‚     â”‚
â”‚         â”‚  â”‚     â”‚  [Preview full sequence]                  â”‚       â”‚     â”‚
â”‚         â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚     â”Œâ”€ POST-EEX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚         â”‚  â”‚     â”‚  [1] Post-course outreach [Preview]      â”‚       â”‚     â”‚
â”‚         â”‚  â”‚     â”‚  [2] Follow-up            [Preview]      â”‚       â”‚     â”‚
â”‚         â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚         â”‚  â”‚                                                         â”‚     â”‚
â”‚         â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚     â”‚
â”‚         â”‚  â”‚  â”‚ APPROVE â”‚ â”‚ REJECT â”‚ â”‚ REQ EDIT  â”‚ â”‚ CHANGE PERSONA â”‚â”‚     â”‚
â”‚         â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚     â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â–¼         â–¼         â–¼             â–¼                  â”‚                  â”‚
â”‚  approved  rejected  edit_req    persona_change_req    â”‚                  â”‚
â”‚    â”‚         â”‚         â”‚             â”‚                  â”‚                  â”‚
â”‚    â”‚         â–¼         â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â–º back to        â”‚
â”‚    â”‚    terminated     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â–º EMAIL-DRAFTER â”‚   CAMPAIGN SETUP â”‚
â”‚    â”‚                                 â”‚  (with feedback) â”‚   (new persona)  â”‚
â”‚    â–¼                                                                        â”‚
â”‚  campaign_approved â”€â”€â–º IN FLIGHT                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IN FLIGHT  â—„â”€â”€ AUTONOMOUS (lead responses primary; users can pause/cancel)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. REACH OUT PHASE                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â”‚
â”‚                                                                             â”‚
â”‚    [Auto-send initial reach out] â—„â”€â”€ Pre-approved                          â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    [Wait for response]                                                      â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º No response + timeout â”€â”€â–º [Auto-send follow-up]               â”‚
â”‚         â”‚                                   â”‚                               â”‚
â”‚         â”‚                                   â–¼                               â”‚
â”‚         â”‚                              [Wait again]                         â”‚
â”‚         â”‚                                   â”‚                               â”‚
â”‚         â”‚                                   â”œâ”€â”€â–º timeout â”€â”€â–º terminated     â”‚
â”‚         â”‚                                   â”‚                               â”‚
â”‚         â–¼                                   â–¼                               â”‚
â”‚    [Response received] â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    ğŸ¤– [RESPONSE-TRIAGER AGENT]                                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º accept_gift â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º EEX PHASE                         â”‚
â”‚         â”œâ”€â”€â–º request_meeting â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º MEETING                           â”‚
â”‚         â”œâ”€â”€â–º delayed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º SNOOZED                           â”‚
â”‚         â”œâ”€â”€â–º question â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ğŸ¤– EMAIL-DRAFTER (reply)          â”‚
â”‚         â”‚                                      â”‚                           â”‚
â”‚         â”‚                                      â–¼                           â”‚
â”‚         â”‚                                 ğŸ‘¤ [APPROVAL] â—„â”€â”€ Reply review   â”‚
â”‚         â”‚                                      â”‚                           â”‚
â”‚         â”‚                                      â–¼                           â”‚
â”‚         â”‚                                 [Send reply]                     â”‚
â”‚         â”œâ”€â”€â–º opt_out â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º terminated                        â”‚
â”‚         â”œâ”€â”€â–º not_interested â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º terminated                        â”‚
â”‚         â””â”€â”€â–º unclear â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º escalated                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. EEX PHASE  â—„â”€â”€ AUTO-APPROVED (no human review per step)                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                              â”‚
â”‚                                                                             â”‚
â”‚    ğŸ“š EEX Content = Pre-built with persona (not agent-drafted)             â”‚
â”‚                                                                             â”‚
â”‚    [Auto-send EEX Step 1] â”€â”€â–º [Wait] â”€â”€â–º [Step 2] â”€â”€â–º ... â”€â”€â–º [Step 5]    â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”‚  (Response at any point triggers triage)                         â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    [Response received]                                                      â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    ğŸ¤– [RESPONSE-TRIAGER AGENT]                                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º continue â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Resume EEX (paused)               â”‚
â”‚         â”œâ”€â”€â–º request_meeting â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º MEETING                           â”‚
â”‚         â”œâ”€â”€â–º opt_out â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º terminated (interrupt EEX)        â”‚
â”‚         â””â”€â”€â–º question â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ğŸ¤– EMAIL-DRAFTER (reply)          â”‚
â”‚                                              â”‚                             â”‚
â”‚                                              â–¼                             â”‚
â”‚                                         ğŸ‘¤ [APPROVAL] â—„â”€â”€ Reply review     â”‚
â”‚                                              â”‚                             â”‚
â”‚                                              â–¼                             â”‚
â”‚                                         [Send reply] â†’ resume EEX          â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    eex_completed â”€â”€â–º POST-EEX PHASE                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8. POST-EEX PHASE                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚
â”‚                                                                             â”‚
â”‚    [Auto-send post-EEX initial] â—„â”€â”€ Pre-approved                           â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    [Wait for response]                                                      â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º No response + timeout â”€â”€â–º [Auto-send follow-up]               â”‚
â”‚         â”‚                                   â”‚                               â”‚
â”‚         â”‚                                   â”œâ”€â”€â–º timeout â”€â”€â–º terminated     â”‚
â”‚         â”‚                                   â”‚                               â”‚
â”‚         â–¼                                   â–¼                               â”‚
â”‚    [Response received] â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â–¼                                                                   â”‚
â”‚    ğŸ¤– [RESPONSE-TRIAGER AGENT]                                              â”‚
â”‚         â”‚                                                                   â”‚
â”‚         â”œâ”€â”€â–º request_meeting â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º MEETING                           â”‚
â”‚         â”œâ”€â”€â–º delayed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º SNOOZED                           â”‚
â”‚         â”œâ”€â”€â–º opt_out â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º terminated                        â”‚
â”‚         â””â”€â”€â–º not_interested â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º terminated                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COMPLETED                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  9. TERMINAL STATES                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   CONVERTED   â”‚ â”‚  TERMINATED   â”‚ â”‚   CANCELED    â”‚ â”‚   ARCHIVED    â”‚   â”‚
â”‚  â”‚     (win)     â”‚ â”‚    (loss)     â”‚ â”‚ (user action) â”‚ â”‚   (neutral)   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Meeting     â”‚ â”‚ â€¢ Opt-out     â”‚ â”‚ â€¢ User paused â”‚ â”‚ â€¢ No persona  â”‚   â”‚
â”‚  â”‚   booked      â”‚ â”‚ â€¢ Not inter-  â”‚ â”‚   then stoppedâ”‚ â”‚   match       â”‚   â”‚
â”‚  â”‚ â€¢ Calendar    â”‚ â”‚   ested       â”‚ â”‚ â€¢ User manual â”‚ â”‚ â€¢ Insufficientâ”‚   â”‚
â”‚  â”‚   confirmed   â”‚ â”‚ â€¢ Bounced     â”‚ â”‚   termination â”‚ â”‚   data        â”‚   â”‚
â”‚  â”‚               â”‚ â”‚ â€¢ Spam        â”‚ â”‚   during      â”‚ â”‚               â”‚   â”‚
â”‚  â”‚               â”‚ â”‚ â€¢ Timeout     â”‚ â”‚   in-flight   â”‚ â”‚               â”‚   â”‚
â”‚  â”‚               â”‚ â”‚ â€¢ Rejected at â”‚ â”‚               â”‚ â”‚               â”‚   â”‚
â”‚  â”‚               â”‚ â”‚   approval    â”‚ â”‚               â”‚ â”‚               â”‚   â”‚
â”‚  â”‚               â”‚ â”‚ â€¢ Escalation  â”‚ â”‚               â”‚ â”‚               â”‚   â”‚
â”‚  â”‚               â”‚ â”‚   unresolved  â”‚ â”‚               â”‚ â”‚               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚    â”€â”€â–º [journey_analytics] captures full path for reporting                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Agent Summary

| Agent | When Called | Purpose |
|-------|-------------|---------|
| ğŸ¤– **PERSONA-MATCHER** | Once per lead (Qualification) | Score lead against personas |
| ğŸ¤– **EMAIL-DRAFTER** | Campaign setup (4 wrapper emails) + ad-hoc replies | Draft personalized emails |
| ğŸ¤– **RESPONSE-TRIAGER** | Every inbound email response | Classify intent and route |
| ğŸ¤– **ESCALATION-HANDLER** | When human resolves escalation | Interpret guidance |
| âš™ï¸ **NON-AGENTIC** | Everything else | Enrichment, sending, routing, crons, EEX delivery |

---

## Email Generation by Source

### ğŸ¤– Agent-Drafted (EMAIL-DRAFTER)
Creative, personalized content:
- Initial reach out email
- Reach out follow-up email
- Post-EEX initial email
- Post-EEX follow-up email
- Reply emails (responses to lead questions)

### âš™ï¸ Template-Sourced (Non-agentic function)
Deterministic personalization from buyer persona templates:
- EEX Step 1-5 emails

**Template hierarchy:**
```
Organization
â””â”€â”€ Buyer Persona
    â””â”€â”€ Campaign Template
        â””â”€â”€ EEX Sequence (5 templates)
            â””â”€â”€ Personalized with: {{first_name}}, {{company}}, etc.
```

---

## Approval Flow

```
CURRENT: Multiple touchpoints
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  match â†’ [approve?] â†’ draft â†’ [approve?] â†’ send â†’ draft â†’ [approve?] â†’ ...

NEW: Single touchpoint
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  match â†’ draft ALL â†’ [APPROVE BUNDLE] â†’ auto-send â†’ auto-send â†’ auto-send
```

The human reviews ONE TIME:

| Review Item | What They're Validating |
|-------------|------------------------|
| **Lead Info + Enrichment** | Is this a valid lead worth pursuing? |
| **Buyer Persona Assignment** | Does this lead match this persona? |
| **Wrapper Emails (4)** | Are these emails appropriate for this lead? |
| **EEX Preview** | Confirmation of which EEX sequence will be used |

**Actions available:**
- **Approve** â†’ Start campaign (marks all emails as approved)
- **Reject** â†’ Terminate lead
- **Request Edit** â†’ Back to EMAIL-DRAFTER with feedback
- **Change Persona** â†’ Back to Campaign Setup with different persona

Then the ENTIRE campaign runs autonomously.
